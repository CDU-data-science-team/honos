---
output: "github_document"
bibliography: "references.bib"
link-citations: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# honos

<!-- badges: start -->

[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)

<!-- badges: end -->

The goal of the `honos` R package is to assist with the analysis and visualisation of Health of the Nation Outcome Scales (HoNOS) [@Wing1998].

## Installation

You can install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("CDU-data-science-team/honos", build_vignettes = TRUE)
```

## Functions

See vignettes using `browseVignettes(package = "honos")` for further information.
The vignettes are also available at https://cdu-data-science-team.github.io/honos (see "Articles").

### Add descriptions to HoNOS data

- `as_item_desc()`: Add labels for HoNOS items
- `as_severity_desc()`: Add labels for HoNOS severity ratings
- `as_cluster_desc()`: Add labels for HoNOS clusters

### Calculations

- `lag_honos()`: Calculate lagged scores based on a date variable and calculate change labels (e.g., "high to low", or 'deterioration')
- `calc_change_label()`: Calculates change labels for repeated measures of the HoNOS
- `calc_subscales()`: Calculates sums of HoNOS subscales


### Random tests

```{r eval=FALSE}

rename_honos(data = honos::honos_wide,
             value_vars_current <- c("asd1", "asd2",  "asd3", "asd4","asd5", "asd6", "asd7",  "asd8", "asd9", "asd10", "asd11",  "asd12", "asd13"),
             prob_var_item8 <- c("asd8p"),
             sepc_var_item8 <- c("asd8s"),
             value_vars_history <- c("asd14", "asd15", "asd16", "asd17", "asd18"))


vars <- c("id", "date","measure", "itemA")
names_data <- names(honos::honos_long)


names_data %in% vars
all(vars %in% names_data)

```


## Resources

- https://improvement.nhs.uk/documents/485/Annex_DtE_Mental_health_clustering_tool.pdf
- https://www.rcpsych.ac.uk/events/in-house-training/health-of-nation-outcome-scales
- https://www.nhs.uk/Scorecard/Pages/IndicatorFacts.aspx?MetricId=9308
- https://www.healthylondon.org/resource/mental-health-in-integrated-care-systems/outcome-measures/honos/
- https://bmjopen.bmj.com/content/6/4/e010732
- https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5914766/
- https://www.healthylondon.org/wp-content/uploads/2017/11/Clinical-engagement-with-HoNOS-REPORT-NOV-2018-FINAL.pdf

## References
